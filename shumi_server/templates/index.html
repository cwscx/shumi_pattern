{% load static %}
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baby Tracker - æ–½èˆ’ç±³</title>
    <link rel="stylesheet" href="{% static 'style.css' %}"> <style>
        /* Keep your CSS here or move to a separate .css file in the static folder */
        body { font-family: sans-serif; background: #f4f7f6; padding: 20px; }
        .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 500px; margin: auto; }
        .btn-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 20px; }
        button { padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
        .btn-milk { background: #e3f2fd; color: #1976d2; }
        .btn-sleep { background: #f3e5f5; color: #7b1fa2; }
        .btn-diaper { background: #fff3e0; color: #f57c00; }
        #dynamicInputs { margin-top: 15px; padding: 10px; border: 1px solid #eee; display: none; }
    </style>
</head>
<body>

<div class="card">
    <h2>ğŸ‘¶ æ–½èˆ’ç±³ Tracker</h2>
    
    <div class="input-group">
        <label>å½“å‰æ—¥æœŸ</label>
        <input type="date" id="currentDate">
    </div>

    <div class="btn-grid">
        <button class="btn-milk" onclick="addAction('å–å¥¶')">ğŸ¼ å–å¥¶</button>
        <button class="btn-sleep" onclick="addAction('ç¡çœ ')">ğŸ˜´ ç¡çœ </button>
        <button class="btn-diaper" onclick="addAction('æ¢å°¿å¸ƒ')">ğŸ§· å°¿å¸ƒ</button>
    </div>

    <div id="dynamicInputs"></div>

    <div class="log-list" id="logList">
    <strong>ä»Šæ—¥è®°å½• ({{ today_actions|length }} æ¡):</strong>
    <div id="entries">
        {% if today_actions %}
            {% for item in today_actions %}
                <div class="entry-item">
                    <span class="time">[{{ item.time_start }}]</span>
                    <span class="action">**{{ item.action }}**</span>
                    {% if item.type %} - {{ item.type }}{% endif %}
                    {% if item.volume %} - {{ item.volume }}{% endif %}
                    {% if item.time_end %} (è‡³ {{ item.time_end }}){% endif %}
                    <button class="btn-delete" onclick="deleteAction('{{ item.date }}', {{ forloop.counter0 }})">
                    &times;
                </button>
                </div>
            {% endfor %}
        {% else %}
            <p style="color: #999;">ä»Šæ—¥æš‚æ— è®°å½•</p>
        {% endif %}
    </div>
</div>
</div>

<script src="{% static 'script.js' %}"></script>
</body>
</html>